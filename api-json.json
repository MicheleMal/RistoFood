{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUser"}}}},"responses":{"201":{"description":"User registered successfully"},"409":{"description":"Email already registered"}},"tags":["Auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUser"}}}},"responses":{"200":{"description":"Login successfully"},"401":{"description":"Incorrect email or password"}},"tags":["Auth"]}},"/auth/refresh":{"post":{"operationId":"AuthController_refresh","parameters":[],"responses":{"200":{"description":"Refresh token"},"401":{"description":"Incorrect email or password"}},"tags":["Auth"]}},"/auth/logout":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":"Successfully logout"}},"security":[{"bearer":[]}],"tags":["Auth"]}},"/users/profile":{"get":{"operationId":"UsersController_getProfile","parameters":[],"responses":{"200":{"description":"Personal profile"},"404":{"description":"No user found"}},"security":[{"bearer":[]}],"tags":["Users"]}},"/users/update":{"patch":{"operationId":"UsersController_updateUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUser"}}}},"responses":{"200":{"description":"User updated successfully"},"404":{"description":"No user found"}},"security":[{"bearer":[]}],"tags":["Users"]}},"/users/delete":{"delete":{"operationId":"UsersController_deleteUser","parameters":[],"responses":{"200":{"description":"User deleted successfully"},"404":{"description":"No user found"}},"security":[{"bearer":[]}],"tags":["Users"]}},"/menu/all":{"get":{"operationId":"DishesController_getAllDishes","parameters":[{"name":"c","required":false,"in":"query","description":"Category dish","schema":{"enum":["antipasto","primo","secondo","contorno","dolce","bevanda","pizza"],"type":"string"}},{"name":"min_p","required":false,"in":"query","description":"Minimum price","schema":{"type":"number"}},{"name":"max_p","required":false,"in":"query","description":"Maximun price","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Page number for pagination","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"","schema":{"type":"number"}}],"responses":{"200":{"description":"List of all dishes on the menu"},"400":{"description":"Invalid price range"}},"tags":["Menu"]}},"/menu/insert":{"post":{"operationId":"DishesController_insertNewDish","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDish"}}}},"responses":{"201":{"description":"New dish created successfully"}},"security":[{"bearer":[]}],"tags":["Menu"]}},"/menu/update/{id}":{"patch":{"operationId":"DishesController_updateDish","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDish"}}}},"responses":{"200":{"description":"Dish updated successfully"},"404":{"description":"No dish found"}},"security":[{"bearer":[]}],"tags":["Menu"]}},"/menu/delete/{id}":{"delete":{"operationId":"DishesController_deleteDish","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Dish deleted successfully"},"404":{"description":"No dish found"}},"security":[{"bearer":[]}],"tags":["Menu"]}},"/orders/insert":{"post":{"operationId":"OrdersController_insertNewDish","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrder"}}}},"responses":{"201":{"description":"New order created"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/all":{"get":{"operationId":"OrdersController_getAllOrder","parameters":[{"name":"s","required":false,"in":"query","description":"State order","schema":{"enum":["wait","preparation","completed"],"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number for pagination","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"","schema":{"type":"number"}}],"responses":{"200":{"description":"List of all orders"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/table/{n_table}":{"get":{"operationId":"OrdersController_getOrderByTableNumber","parameters":[{"name":"n_table","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"List of all orders for a specific table"},"404":{"description":"No orders found"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/update/{id}":{"patch":{"operationId":"OrdersController_updateOrder","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrder"}}}},"responses":{"200":{"description":"Order successfully modified"},"404":{"description":"No order found"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/update/{id}/dish/{id_dish}":{"put":{"operationId":"OrdersController_updateOrderDish","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"id_dish","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Order successfully modified"},"404":{"description":"No dish or order found"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/delete/{id}":{"delete":{"operationId":"OrdersController_deleteOrder","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Dish deleted successfully"},"404":{"description":"No order found"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/stats/daily":{"get":{"operationId":"OrdersController_getDailyStats","parameters":[],"responses":{"200":{"description":"List of daily statistics"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/stats/monthly":{"get":{"operationId":"OrdersController_getMonthlyStats","parameters":[],"responses":{"200":{"description":"List of monthly statistics"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/stats/annual":{"get":{"operationId":"OrdersController_getAnnualStats","parameters":[],"responses":{"200":{"description":"List of annual statistics"}},"security":[{"bearer":[]}],"tags":["Orders"]}},"/orders/stats/top-dishes":{"get":{"operationId":"OrdersController_rankingOrdersDishes","parameters":[{"name":"top","required":false,"in":"query","description":"Top of the dishes to show","schema":{"type":"number"}}],"responses":{"200":{"description":"Ranking of the most ordered dishes"}},"security":[{"bearer":[]}],"tags":["Orders"]}}},"info":{"title":"Orders Api","description":"","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUser":{"type":"object","properties":{"username":{"type":"string","description":"Username for profile"},"email":{"type":"string","description":"Personal email to access the profile"},"password":{"type":"string","description":"Password to access the profile","minLength":8},"role":{"type":"string","description":"Role","enum":["admin","staff"],"default":"staff"},"refresh_toke":{"type":"string","description":"Refresh token"}},"required":["username","email","password"]},"LoginUser":{"type":"object","properties":{"email":{"type":"string","description":"Email to access the profile"},"password":{"type":"string","description":"Password to access the profile","minLength":8}},"required":["email","password"]},"UpdateUser":{"type":"object","properties":{"username":{"type":"string","description":"Username"},"password":{"type":"string","description":"Password"},"role":{"type":"string","description":"Role","enum":["admin","staff"]}}},"CreateDish":{"type":"object","properties":{"name":{"type":"string","description":"Name dish for menu"},"description":{"type":"string","description":"Description dish for menu"},"price":{"type":"number","description":"Price dish for menu"},"category":{"type":"string","description":"Category dish for menu","enum":["antipasto","primo","secondo","contorno","dolce","bevanda","pizza"],"example":"primo"}},"required":["name","description","price","category"]},"UpdateDish":{"type":"object","properties":{}},"CreateOrder":{"type":"object","properties":{"n_person":{"type":"number","description":"Number person at the table","minimum":1,"default":1},"n_table":{"type":"number","description":"Table number"},"cover_charge":{"type":"number","description":"Cover charge"},"price_total":{"type":"number","description":"Total price of the order"},"state":{"type":"string","description":"Order status","enum":["wait","preparation","completed"],"default":"wait","example":"wait"},"notes":{"type":"string","description":"Additional notes to the order"},"date":{"format":"date-time","type":"string","description":"Order dates"},"dishes":{"description":"List of dishes within the order","items":{"type":"array"},"type":"array"},"id_order":{"type":"number","description":"Unique id the order"},"id_user":{"type":"number","description":"Unique ID of the user who creates the order"}},"required":["n_table","cover_charge","dishes"]},"UpdateOrder":{"type":"object","properties":{"n_person":{"type":"number","description":"Number person at the table"},"n_table":{"type":"number","description":"Table number"},"state":{"type":"string","description":"Order status","enum":["wait","preparation","completed"],"default":"wait","example":"wait"}}}}}}